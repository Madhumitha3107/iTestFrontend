<mat-sidenav-container class="quiz-container">
  <mat-sidenav-content>
    <div class="main-content">
      <h2 class="section-title">Available Quizzes</h2>

      <div class="loading-wrapper" *ngIf="loading">
        <div class="d-flex justify-content-center align-items-center py-5">
          <div class="spinner-border text-primary" role="status" style="width: 3rem; height: 3rem;">
            <span class="visually-hidden">Loading...</span>
          </div>
        </div>
      </div>

      <div class="quiz-list-container" *ngIf="!loading">
        <ng-container *ngIf="quizzes.length > 0; else noQuizzes">
          <div class="row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4">
            <div class="col" *ngFor="let quiz of quizzes">
              <div class="card border-0 shadow-sm rounded-3 h-100 p-0">
                <div class="card-body shadow-sm px-4 d-flex flex-column justify-content-between h-100">
                  <h2 class="card-title mb-2 fw-semibold text-truncate" title="{{ quiz.title }}">
                    {{ quiz.title }}
                  </h2>
                  <div class="text-muted mb-4 py-2 text-truncate rounded" style="background: #f8f9fa;">
                    {{ quiz.description }}
                  </div>
                  <div class="mb-0">
                    <i class="bi bi-calendar-event me-1"></i>
                    <strong>Due Date:</strong> {{ quiz.scheduledAt | date: 'longDate' }}
                  </div>
                  <button class="btn btn-primary mt-4 w-100" (click)="confirmAndNavigate(quiz.id)">
                    <i class="bi bi-play-circle me-1"></i> Take Test
                  </button>
                </div>
              </div>
            </div>
          </div>
        </ng-container>

        <ng-template #noQuizzes>
          <p class="no-quizzes">No quizzes available right now.</p>
        </ng-template>
      </div>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>
